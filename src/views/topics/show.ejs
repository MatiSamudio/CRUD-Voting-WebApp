<h2><%= topic.title %></h2>
<p><%= topic.description || 'Sin descripción' %></p>
<p>Votos del tema: <%= topic.votes %></p>

<form action="/topics/<%= topic.id %>/vote" method="POST">
  <button type="submit">Votar este tema</button>
</form>

<hr />

<h3>Enlaces</h3>

<% if (links.length === 0) { %>
  <p>No hay enlaces todavía.</p>
<% } else { %>
  <ul>
    <% links.forEach(link => { %>
      <li>
        <a href="<%= link.url %>" target="_blank" rel="noopener noreferrer">
          <%= link.title %>
        </a>
        — votos: <%= link.votes %>

        <form action="/topics/<%= topic.id %>/links/<%= link.id %>/vote" method="POST" style="display:inline;">
          <button type="submit">Votar</button>
        </form>

        <a href="/topics/<%= topic.id %>/links/<%= link.id %>/edit">Editar</a>

        <form action="/topics/<%= topic.id %>/links/<%= link.id %>/delete" method="POST" style="display:inline;">
          <button type="submit">Eliminar</button>
        </form>
      </li>
    <% }) %>
  </ul>
<% } %>

<hr />

<h3>Agregar enlace</h3>
<form action="/topics/<%= topic.id %>/links" method="POST">
  <div>
    <label>Título del enlace</label><br />
    <input type="text" name="title" required />
  </div>

  <div>
    <label>URL</label><br />
    <input type="text" name="url" placeholder="https://..." required />
  </div>

  <button type="submit">Agregar</button>
</form>

<hr />

<p>
  <a href="/topics">Volver</a> |
  <a href="/topics/<%= topic.id %>/edit">Editar tema</a>
</p>
